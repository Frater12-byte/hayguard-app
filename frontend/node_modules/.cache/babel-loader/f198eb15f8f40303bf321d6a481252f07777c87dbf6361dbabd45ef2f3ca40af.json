{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import'./App.css';// Components\nimport Login from'./components/Auth/Login';import Dashboard from'./components/Dashboard';import SensorManagement from'./components/Sensors/SensorManagement';import Reports from'./components/Reports/Reports';import Team from'./components/Team/Team';import Alerts from'./components/Alerts/Alerts';import Profile from'./components/Profile/Profile';import Settings from'./components/Settings/Settings';import MyFarm from'./components/Farm/MyFarm';import Farms from'./components/Farms/Farms';import FarmDetails from'./components/Farms/FarmDetails';import Weather from'./components/Weather/Weather';import Analytics from'./components/Analytics/Analytics';import Sidebar from'./components/Sidebar';import Header from'./components/Header';// Services\n// eslint-disable-next-line no-unused-vars\nimport{authService}from'./services/authService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[loading,setLoading]=useState(true);const[sidebarCollapsed,setSidebarCollapsed]=useState(false);const[user,setUser]=useState(null);useEffect(()=>{const checkAuth=async()=>{try{const token=localStorage.getItem('token');if(token){setIsAuthenticated(true);// Set demo user data\nsetUser({name:'Demo User',email:'demo@hayguard.com',profilePicture:'/default-avatar.png'});}}catch(error){console.error('Auth check failed:',error);}finally{setLoading(false);}};checkAuth();},[]);const handleLogin=async(email,password)=>{try{// Simulate successful login for demo credentials\nif(email==='demo@hayguard.com'&&password==='demo123'){localStorage.setItem('token','demo-token');setIsAuthenticated(true);setUser({name:'Demo User',email:'demo@hayguard.com',profilePicture:'/default-avatar.png'});return{success:true};}else{return{success:false,error:'Invalid credentials'};}}catch(error){return{success:false,error:'Login failed'};}};const handleLogout=()=>{localStorage.removeItem('token');setIsAuthenticated(false);setUser(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:isAuthenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"app-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{collapsed:sidebarCollapsed,onToggle:()=>setSidebarCollapsed(!sidebarCollapsed),user:user}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(Header,{onLogout:handleLogout,user:user,onToggleSidebar:()=>setSidebarCollapsed(!sidebarCollapsed)}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/sensors\",element:/*#__PURE__*/_jsx(SensorManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reports\",element:/*#__PURE__*/_jsx(Reports,{})}),/*#__PURE__*/_jsx(Route,{path:\"/team\",element:/*#__PURE__*/_jsx(Team,{})}),/*#__PURE__*/_jsx(Route,{path:\"/alerts\",element:/*#__PURE__*/_jsx(Alerts,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(Settings,{})}),/*#__PURE__*/_jsx(Route,{path:\"/farm-info\",element:/*#__PURE__*/_jsx(MyFarm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/farms\",element:/*#__PURE__*/_jsx(Farms,{})}),/*#__PURE__*/_jsx(Route,{path:\"/farms/:id\",element:/*#__PURE__*/_jsx(FarmDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"/weather\",element:/*#__PURE__*/_jsx(Weather,{})}),/*#__PURE__*/_jsx(Route,{path:\"/analytics\",element:/*#__PURE__*/_jsx(Analytics,{})})]})})]})]}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Dashboard","SensorManagement","Reports","Team","Alerts","Profile","Settings","MyFarm","Farms","FarmDetails","Weather","Analytics","Sidebar","Header","authService","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","loading","setLoading","sidebarCollapsed","setSidebarCollapsed","user","setUser","checkAuth","token","localStorage","getItem","name","email","profilePicture","error","console","handleLogin","password","setItem","success","handleLogout","removeItem","className","children","path","element","to","replace","onLogin","collapsed","onToggle","onLogout","onToggleSidebar"],"sources":["/Users/francescoterragni/Desktop/hayguard/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport './App.css';\n\n// Components\nimport Login from './components/Auth/Login';\nimport Dashboard from './components/Dashboard';\nimport SensorManagement from './components/Sensors/SensorManagement';\nimport Reports from './components/Reports/Reports';\nimport Team from './components/Team/Team';\nimport Alerts from './components/Alerts/Alerts';\nimport Profile from './components/Profile/Profile';\nimport Settings from './components/Settings/Settings';\nimport MyFarm from './components/Farm/MyFarm';\nimport Farms from './components/Farms/Farms';\nimport FarmDetails from './components/Farms/FarmDetails';\nimport Weather from './components/Weather/Weather';\nimport Analytics from './components/Analytics/Analytics';\nimport Sidebar from './components/Sidebar';\nimport Header from './components/Header';\n\n// Services\n// eslint-disable-next-line no-unused-vars\nimport { authService } from './services/authService';\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (token) {\n          setIsAuthenticated(true);\n          // Set demo user data\n          setUser({\n            name: 'Demo User',\n            email: 'demo@hayguard.com',\n            profilePicture: '/default-avatar.png'\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkAuth();\n  }, []);\n\n  const handleLogin = async (email, password) => {\n    try {\n      // Simulate successful login for demo credentials\n      if (email === 'demo@hayguard.com' && password === 'demo123') {\n        localStorage.setItem('token', 'demo-token');\n        setIsAuthenticated(true);\n        setUser({\n          name: 'Demo User',\n          email: 'demo@hayguard.com',\n          profilePicture: '/default-avatar.png'\n        });\n        return { success: true };\n      } else {\n        return { success: false, error: 'Invalid credentials' };\n      }\n    } catch (error) {\n      return { success: false, error: 'Login failed' };\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setIsAuthenticated(false);\n    setUser(null);\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route \n            path=\"/login\" \n            element={\n              isAuthenticated ? \n              <Navigate to=\"/dashboard\" replace /> : \n              <Login onLogin={handleLogin} />\n            } \n          />\n          <Route \n            path=\"/\" \n            element={\n              isAuthenticated ? \n              <Navigate to=\"/dashboard\" replace /> : \n              <Navigate to=\"/login\" replace />\n            } \n          />\n          \n          <Route path=\"/*\" element={\n            isAuthenticated ? (\n              <div className=\"app-layout\">\n                <Sidebar \n                  collapsed={sidebarCollapsed} \n                  onToggle={() => setSidebarCollapsed(!sidebarCollapsed)}\n                  user={user}\n                />\n                <div className=\"main-content\">\n                  <Header onLogout={handleLogout} user={user} onToggleSidebar={() => setSidebarCollapsed(!sidebarCollapsed)} />\n                  <div className=\"content\">\n                    <Routes>\n                      <Route path=\"/dashboard\" element={<Dashboard user={user} />} />\n                      <Route path=\"/sensors\" element={<SensorManagement />} />\n                      <Route path=\"/reports\" element={<Reports />} />\n                      <Route path=\"/team\" element={<Team />} />\n                      <Route path=\"/alerts\" element={<Alerts />} />\n                      <Route path=\"/profile\" element={<Profile user={user} />} />\n                      <Route path=\"/settings\" element={<Settings />} />\n                      <Route path=\"/farm-info\" element={<MyFarm />} />\n                      <Route path=\"/farms\" element={<Farms />} />\n                      <Route path=\"/farms/:id\" element={<FarmDetails />} />\n                      <Route path=\"/weather\" element={<Weather />} />\n                      <Route path=\"/analytics\" element={<Analytics />} />\n                    </Routes>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <Navigate to=\"/login\" replace />\n            )\n          } />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}